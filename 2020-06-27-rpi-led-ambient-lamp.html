<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Raspberry Pi LED ambient lamp - SkyLyrac</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="./2020-06-27-rpi-led-ambient-lamp.html">

        <meta name="author" content="Antonio Niño Díaz" />
        <meta name="keywords" content="programming,raspberry-pi" />
        <meta name="description" content="A few months ago (before the lockdown started) I was shopping at the Cambridge city center, I popped by the Raspberry Pi Store and I saw something called Mood Light - Pi Zero W Project Kit. This is basically a kit that contains: Raspberry Pi Zero W: Pretty nice, as it …" />

        <meta property="og:site_name" content="SkyLyrac" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Raspberry Pi LED ambient lamp"/>
        <meta property="og:url" content="./2020-06-27-rpi-led-ambient-lamp.html"/>
        <meta property="og:description" content="A few months ago (before the lockdown started) I was shopping at the Cambridge city center, I popped by the Raspberry Pi Store and I saw something called Mood Light - Pi Zero W Project Kit. This is basically a kit that contains: Raspberry Pi Zero W: Pretty nice, as it …"/>
        <meta property="article:published_time" content="2020-06-27" />
            <meta property="article:section" content="raspberry-pi" />
            <meta property="article:tag" content="programming" />
            <meta property="article:tag" content="raspberry-pi" />
            <meta property="article:author" content="Antonio Niño Díaz" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/borland.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>




</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
SkyLyrac            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="./pages/about-me.html">
                             About me
                          </a></li>
                         <li><a href="./pages/projects.html">
                             Projects
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="." title="SkyLyrac"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="./category/raspberry-pi.html" title="raspberry-pi">raspberry-pi</a></li>
                <li class="active">Raspberry Pi LED ambient lamp</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./2020-06-27-rpi-led-ambient-lamp.html"
                       rel="bookmark"
                       title="Permalink to Raspberry Pi LED ambient lamp">
                        Raspberry Pi LED ambient lamp
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2020-06-27T13:27:00+01:00"> Sat 27 June 2020</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="./tag/programming.html">programming</a>
        /
	<a href="./tag/raspberry-pi.html">raspberry-pi</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>A few months ago (before the lockdown started) I was shopping at the Cambridge
city center, I popped by the <a class="reference external" href="https://www.raspberrypi.org/raspberry-pi-store/">Raspberry Pi Store</a> and I saw something called
<a class="reference external" href="https://shop.pimoroni.com/products/mood-light-pi-zero-w-project-kit">Mood Light - Pi Zero W Project Kit</a>. This is basically a kit that contains:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.raspberrypi.org/products/raspberry-pi-zero-w/">Raspberry Pi Zero W</a>: Pretty nice, as it has integrated WiFI.</li>
<li><a class="reference external" href="https://github.com/pimoroni/unicorn-hat">Unicorn HAT</a>: 32x4 RGB LED matrix with a pretty simple Python library to
control it.</li>
<li>A plastic case to put everything in, for decoration.</li>
</ul>
<p>I thought it looked pretty nice, and decided to buy it to play with it during
when the lockdown started.</p>
<img alt="Photo of the lamp with Telegram bot and web interface" class="align-center" src="./images/led-lamp.jpg" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>I wrote a <a class="reference external" href="https://telegram.org/">Telegram</a> bot a couple of years ago with <a class="reference external" href="https://github.com/nickoala/telepot">Telepot</a>, and I thought
that it would be a good idea to repurpose it to control the lamp remotely.
However, that was only supposed to be the first step. Nobody really wants to
have to type a command to change the color of the lights, right? Also, it looks
like that Telepot has been deprecated, so it's likely going to break at some
point in the future.</p>
<p>The actual objective was to create a web user interface with <a class="reference external" href="https://flask.palletsprojects.com/">Flask</a>, expose it
to my home network, and to be able to control the lights pressing buttons in a
website from my phone, PC, and even let any guest that come to my home control
the lights by connecting to the WiFi network.</p>
<p>This is a video of the result (it's missing one effect that simulates fire,
though):</p>
<p><a class="reference external" href="https://www.youtube.com/watch?v=xjQCvFdkGJw">https://www.youtube.com/watch?v=xjQCvFdkGJw</a></p>
<div class="section" id="how-does-it-work">
<h2>How does it work?</h2>
<p>There are 3 main parts:</p>
<ul class="simple">
<li><strong>LED server</strong>: Script that has to be run with root permissions. It listens to
connections to a specific port and affects the LEDs. It can also reboot or
shutdown your Raspberry Pi.</li>
<li><strong>Telegram bot</strong>: Telegram bot that runs with regular user permissions. It can
send commands to the LED server.</li>
<li><strong>HTML server</strong>: HTML server that sets up a website with some buttons that can
be used to control the LEDs. It sends commands to the LED server.</li>
</ul>
<p>Note that you don't need the Telegram bot and HTML server at the same time. Just
one is enough. Also, any program that connects to the right port can send the
same commands to the LED server. Both the Telegram bot and the web interface can
control the lights at the same time.</p>
<p>All you have to do is turn the Raspberry Pi on anywhere in the flat and it will
connect to the WiFi network, start the servers, and from that point you can talk
to the Telegram bot or use the web interface to control it!</p>
<p>The only problem is that you have to turn it off manually from the web interface
before switching the power off, that's why both the web interface and the
Telegram bot support that command.</p>
<p>For more information, check the code in my GitHub account:</p>
<p><a class="reference external" href="https://github.com/AntonioND/led-bot">https://github.com/AntonioND/led-bot</a></p>
</div>

            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://github.com/AntonioND"><i class="fa fa-github-square fa-lg"></i> github</a></li>
    <li class="list-group-item"><a href="https://www.linkedin.com/in/antonio-ni%C3%B1o-d%C3%ADaz-1b150ab7/en"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Categories -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4>
  <ul class="list-group" id="categories">
    <li class="list-group-item">
      <a href="./category/blog.html"><i class="fa fa-folder-open fa-lg"></i>blog</a>
    </li>
    <li class="list-group-item">
      <a href="./category/electronics.html"><i class="fa fa-folder-open fa-lg"></i>electronics</a>
    </li>
    <li class="list-group-item">
      <a href="./category/emulation.html"><i class="fa fa-folder-open fa-lg"></i>emulation</a>
    </li>
    <li class="list-group-item">
      <a href="./category/gameboy.html"><i class="fa fa-folder-open fa-lg"></i>gameboy</a>
    </li>
    <li class="list-group-item">
      <a href="./category/hacking.html"><i class="fa fa-folder-open fa-lg"></i>hacking</a>
    </li>
    <li class="list-group-item">
      <a href="./category/hp50g.html"><i class="fa fa-folder-open fa-lg"></i>hp50g</a>
    </li>
    <li class="list-group-item">
      <a href="./category/nintendo-3ds.html"><i class="fa fa-folder-open fa-lg"></i>nintendo-3ds</a>
    </li>
    <li class="list-group-item">
      <a href="./category/nintendo-ds.html"><i class="fa fa-folder-open fa-lg"></i>nintendo-ds</a>
    </li>
    <li class="list-group-item">
      <a href="./category/programming.html"><i class="fa fa-folder-open fa-lg"></i>programming</a>
    </li>
    <li class="list-group-item">
      <a href="./category/raspberry-pi.html"><i class="fa fa-folder-open fa-lg"></i>raspberry-pi</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Categories -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://www.skylyrac.net/old-site/index.html" target="_blank">My old website</a>
    </li>
    <li class="list-group-item">
      <a href="https://gbadev.net" target="_blank">GBADev discord</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2023 Antonio Niño Díaz
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://www.skylyrac.net/images/cc-by-nc-sa-80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>


    <script src="./theme/js/bodypadding.js"></script>


</body>
</html>