<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Tetris made with a PIC18F2550 - SkyLyrac</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="./2015-09-20-tetris-made-with-a-pic18f2550.html">

        <meta name="author" content="Antonio Niño Díaz" />
        <meta name="keywords" content="electronics,programming" />
        <meta name="description" content="Hello again! This time I&#39;m writing to show you my newest electronic creation: a &#34;videogame console&#34; made with a PIC18F2550 as its brain. It has a 8x16 LED matrix as main display and 4 seven segment displays to show the player score, for example. It has 8 buttons (4 in …" />

        <meta property="og:site_name" content="SkyLyrac" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Tetris made with a PIC18F2550"/>
        <meta property="og:url" content="./2015-09-20-tetris-made-with-a-pic18f2550.html"/>
        <meta property="og:description" content="Hello again! This time I&#39;m writing to show you my newest electronic creation: a &#34;videogame console&#34; made with a PIC18F2550 as its brain. It has a 8x16 LED matrix as main display and 4 seven segment displays to show the player score, for example. It has 8 buttons (4 in …"/>
        <meta property="article:published_time" content="2015-09-20" />
            <meta property="article:section" content="electronics" />
            <meta property="article:tag" content="electronics" />
            <meta property="article:tag" content="programming" />
            <meta property="article:author" content="Antonio Niño Díaz" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/borland.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
SkyLyrac            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="./pages/about-me.html">
                             About me
                          </a></li>
                         <li><a href="./pages/projects.html">
                             Projects
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="." title="SkyLyrac"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="./category/electronics.html" title="electronics">electronics</a></li>
                <li class="active">Tetris made with a PIC18F2550</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./2015-09-20-tetris-made-with-a-pic18f2550.html"
                       rel="bookmark"
                       title="Permalink to Tetris made with a PIC18F2550">
                        Tetris made with a PIC18F2550
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-09-20T23:06:00+01:00"> Sun 20 September 2015</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="./tag/electronics.html">electronics</a>
        /
	<a href="./tag/programming.html">programming</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Hello again!</p>
<p>This time I'm writing to show you my newest electronic creation: a &quot;videogame
console&quot; made with a <strong>PIC18F2550</strong> as its brain. It has a 8x16 LED matrix as
main display and 4 seven segment displays to show the player score, for example.
It has 8 buttons (4 in a pad, the rest like a Game Boy or similar). The PIC
doesn't have enough pins to control everything easily, so I've used a few
74HC595 to control the LED matrix and the seven segment displays, and a 74HC166
to read the state of all buttons.</p>
<p><img alt="Photo of the front of the board" src="./images/tetris-pic-front.jpg" style="width: 49%;" /> <img alt="Photo of the back of the board" src="./images/tetris-pic-back.jpg" style="width: 49%;" /></p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The game I've decided to code for the demonstration is a simple Tetris, written
in 100% assembly. YouTube <strong>video</strong> here:</p>
<p><a class="reference external" href="https://www.youtube.com/watch?v=5fmSbreJsDI">https://www.youtube.com/watch?v=5fmSbreJsDI</a></p>
<p><strong>Buttons</strong>:</p>
<ul class="simple">
<li>Move left/right.</li>
<li>Rotate clockwise/counterclockwise.</li>
<li>Go down quickly, go down instantly.</li>
<li>Pause, reset.</li>
</ul>
<p>At the moment I haven't decided if I should post the schematics and the source
code for various reasons:</p>
<ul class="simple">
<li>I used different systems to power the LED matrix and the seven segment
displays. A decent design should use the same system.</li>
<li>Some resistors are too high and the LEDs, when lit, are too dim. I didn't
consider the scanline refresh when calculating the resistors, so the actual
intensity is a lot lower than I thought.</li>
<li>The source code of the game is a bit messy (the &quot;drivers&quot; code is good,
though).</li>
</ul>
<p>Well, I hope you like it!</p>
<p><strong>EDIT</strong>: Well, whatever, I'll just put the schematics and the code... :P</p>
<p><strong>Schematics</strong></p>
<img alt="Schematics in color" class="align-center" src="./images/tetris-pic-sch.png" style="width: 100%;" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<img alt="Schematics in black and white" class="align-center" src="./images/tetris-pic-sch-bw.png" style="width: 100%;" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Code</strong></p>
<p>Don't expect it to be clean and/or human readable. The file 'main.asm' contains
the 'drivers', and 'tetris.asm' contains the game. It's fairly easy to modify it
to change some of the pin assignments.</p>
<p><strong>Download (gEDA schematics + assembly code + assembled .hex file)</strong></p>
<p>New version (2015/10/06), with a small modification to prevent &quot;ghosting&quot;
between displays when performing the scanline change. Also fixed a bug that
didn't remove completed lines before checking if game over.</p>
<p><a class="reference external" href="./downloads/tetris_pic_20151006.tar.gz">Download</a></p>
<p><strong>Possible improvements</strong></p>
<ul class="simple">
<li>Change pull-down resistors for the buttons (R29-R36) by 10K resistors.</li>
<li>Change LED resistors (330 Ohm) by 300 or maybe 220 resistors (R1-R16 and
R37-R44).</li>
<li>Make the LED matrix and the seven segment displays work the same way (changing
the displays by common-anode equivalents and the transistors used to drive
them).</li>
</ul>

            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://github.com/AntonioND"><i class="fa fa-github-square fa-lg"></i> github</a></li>
    <li class="list-group-item"><a href="https://www.linkedin.com/in/antonio-ni%C3%B1o-d%C3%ADaz-1b150ab7/en"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Categories -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4>
  <ul class="list-group" id="categories">
    <li class="list-group-item">
      <a href="./category/blog.html"><i class="fa fa-folder-open fa-lg"></i>blog</a>
    </li>
    <li class="list-group-item">
      <a href="./category/electronics.html"><i class="fa fa-folder-open fa-lg"></i>electronics</a>
    </li>
    <li class="list-group-item">
      <a href="./category/emulation.html"><i class="fa fa-folder-open fa-lg"></i>emulation</a>
    </li>
    <li class="list-group-item">
      <a href="./category/gameboy.html"><i class="fa fa-folder-open fa-lg"></i>gameboy</a>
    </li>
    <li class="list-group-item">
      <a href="./category/hacking.html"><i class="fa fa-folder-open fa-lg"></i>hacking</a>
    </li>
    <li class="list-group-item">
      <a href="./category/hp50g.html"><i class="fa fa-folder-open fa-lg"></i>hp50g</a>
    </li>
    <li class="list-group-item">
      <a href="./category/nintendo-3ds.html"><i class="fa fa-folder-open fa-lg"></i>nintendo-3ds</a>
    </li>
    <li class="list-group-item">
      <a href="./category/nintendo-ds.html"><i class="fa fa-folder-open fa-lg"></i>nintendo-ds</a>
    </li>
    <li class="list-group-item">
      <a href="./category/programming.html"><i class="fa fa-folder-open fa-lg"></i>programming</a>
    </li>
    <li class="list-group-item">
      <a href="./category/raspberry-pi.html"><i class="fa fa-folder-open fa-lg"></i>raspberry-pi</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Categories -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://www.skylyrac.net/old-site/index.html" target="_blank">My old website</a>
    </li>
    <li class="list-group-item">
      <a href="https://gbadev.net" target="_blank">GBADev discord</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2023 Antonio Niño Díaz
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://www.skylyrac.net/images/cc-by-nc-sa-80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>


    <script src="./theme/js/bodypadding.js"></script>


</body>
</html>